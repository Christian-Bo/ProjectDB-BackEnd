# =========================
# App
# =========================
spring.application.name=nexttech-backend
server.port=8080

# =========================
# DataSource (SQL Server)
# =========================
# Use Hikari (default pool). Do NOT declare DriverManagerDataSource.
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=SistemaNextTechStore_v2;encrypt=true;trustServerCertificate=true
spring.datasource.username=sa
spring.datasource.password=1234

# =========================
# JPA / Hibernate
# =========================
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# =========================
# Jackson
# =========================
spring.jackson.serialization.write-dates-as-timestamps=false

# =========================
# Logging
# =========================
logging.level.root=INFO
logging.level.com.nexttechstore.nexttech_backend=DEBUG

# =========================
# SQL init (optional)
# =========================
spring.sql.init.mode=never

# =========================
# Swagger / Springdoc
# =========================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger
springdoc.packages-to-scan=com.nexttechstore.nexttech_backend.controller
springdoc.paths-to-match=/api/**

# =========================
# CORS (Global) - read by your CorsConfig (WebMvcConfigurer)
# =========================
# Support variable dev ports (Vite 5173, React 3000, etc.)
app.cors.allowed-origins=http://localhost:*,http://127.0.0.1:*
# Include PATCH and HEAD
app.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS,HEAD
# Common and custom headers
app.cors.allowed-headers=Content-Type,Authorization,Accept,Origin,X-Requested-With,X-User-Id
# Headers the browser can read (useful for 201 Created -> Location)
app.cors.exposed-headers=Location,Link
# Cross-site cookies (usually false)
app.cors.allow-credentials=false
# Preflight cache (seconds)
app.cors.max-age=3600
# API prefix where CORS applies
app.cors.path-pattern=/api/**

logging.level.org.springdoc=DEBUG
logging.level.org.springframework.web=DEBUG
